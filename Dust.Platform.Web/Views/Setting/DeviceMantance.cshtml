
@{
    Layout = null;
}

<div>
    @(Html.BootstrapTable("deviceMantance", "/Setting/DeviceMantanceInfo", TablePaginationOption.server, new
      {
          data_page_list = "[25, 50, 100, ALL]"
      }).Column("设备名称", "Name")
          .Column("供应商", "VendorName")
          .Column("工程名称", "ProjectName")
          .Column("联系人", "SuperIntend")
          .Column("联系电话", "Mobile")
          .Column("维保时间", "LastMaintenance")
          .Column("维保状态", "MantanceStatus")
          .Apply(ColumnOption.formatter, "mantanceFormatter"))
</div>
<script type="text/javascript">
    var mantanceStatus = {
        'Mantanced': 0,
        'NeedMantance': 1,
        'Overdue': 255
    }
    var mantanceFormatter = function (value) {
        if (value === mantanceStatus.Mantanced) {
            return '<img src="/Resources/Images/Site/32_32_green.png"></img>';
        }else if (value === mantanceStatus.NeedMantance) {
            return '<img src="/Resources/Images/Site/32_32_yellow.png"></img>';
        } else {
            return '<img src="/Resources/Images/Site/32_32_red.png"></img>';
        }
    }
</script>
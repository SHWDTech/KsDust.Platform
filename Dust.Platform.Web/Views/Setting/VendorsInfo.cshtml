@{
    Layout = null;
}
<div class="modal fade" id="vendorModal" tabindex="-1" role="dialog" aria-labelledby="vendorModallabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="vendorModallabel">更新注册供应商信息</h4>
            </div>
            <div class="modal-body">

            </div>
        </div>
    </div>
</div>
<div>
    <div style="margin-bottom: 5px;">
        <input type="button" class="btn btn-primary" value="新增供应商" onclick="addVendor()"/>
    </div>
    @(Html.BootstrapTable("vendors", "/Setting/VendorsTable", TablePaginationOption.server, new
      {
          data_page_size = 25
      })
          .Column("供应商名称", "Name")
          .Column("供应商代码", "ShortCode")
          .Column("负责人", "Susperintend")
          .Column("联系电话", "Mobile")
          .Column("操作")
          .Apply(ColumnOption.formatter, "vendorOperaterFormatter")
          .Apply(ColumnOption.events, "vendorOperateEvents"))
</div>

<script type="text/javascript">
    $('#vendors').bootstrapTable({
        height: $('#vendors').parents('.tab-content').height() - 75
    });
    window.vendorOperaterFormatter = function () {
        return [
            '<a class="update" href="javascript:void(0)" title="更新厂商信息">更新</a>'
        ].join('');
    }

    var addVendor = function () {
        $.get('/Setting/Vendor', { id: '00000000-0000-0000-0000-000000000000' }, function (ret) {
            $('#vendorModal .modal-body').html(ret);
            $('#vendorModal').modal();
        });
    };

    window.vendorOperateEvents = {
        'click .update': function (e, value, row) {
            $.get('/Setting/Vendor', { id: row.Id }, function (ret) {
                $('#vendorModal .modal-body').html(ret);
                $('#vendorModal').modal();
            });
        }
    };

    $('#vendorModal').on('hidden.bs.modal', function () {
        $('#vendors').bootstrapTable('refresh',
            {
                url: '/Setting/VendorsTable'
            });
    });
</script>